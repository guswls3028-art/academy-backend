OMR 답안지 자산 도메인 – 최종 단일진실 고정 문서

본 문서는 OMR 답안지 PDF 생성 기능의 최종 설계 동결 문서이다.
이 문서에 명시되지 않은 변경, 확장, 커스터마이징은 허용하지 않는다.
본 문서를 기준으로 구현할 경우, 실사용 가능한 대기업 실무 수준의 OMR 자산이 완성된다.

0. 공통 철학 (전 페이지 공통, 절대 변경 불가)

정보(라벨, 번호, 설명): 좌측 정렬

입력 / 마킹 영역: 우측 정렬

용지: A4

색상: 흑백

출력물: 벡터 PDF

레이아웃: 고정

커스터마이징: 불가

사용자 입력 허용 요소: 로고 이미지 1개만 허용

1. 도메인 및 단일 책임
도메인 위치 (단일진실)
apps/domains/assets

assets 도메인의 책임

assets 도메인은 아래 책임만 가진다.

시험 전에 배포되는 모든 정적 / 반정적 산출물 생성

시험지, 답안지, OMR 양식 생성

PDF, 이미지, 인쇄용 자산 생성

assets 도메인이 절대 하지 않는 것

제출(submission) 생성

채점(grading)

AI 호출

사용자 답안 처리

결과(result) 처리

2. 시험지 종류 정의 (고정)
시험지 1 — 객관식 전용 OMR (확장형)

시험지 1은 객관식 OMR의 단일 표준이다.
문항 수만 다르고, 레이아웃 철학과 구조는 완전히 동일하다.

시험지 1의 변형 버전 (확정)

객관식 30문항

객관식 20문항

객관식 10문항

위 3가지는 동일한 시험지 1의 파생 버전이다.
별도의 시험지 개념이 아니다.

3. 시험지 1 공통 사양 (모든 문항 수 버전 동일)
페이지 구성

사용 면: 앞면만 사용

방향: 가로 (Landscape)

선택지

문항당 5지선다

OMR 버블 방식

인식 우선 설계

문항 간 간격을 넉넉하게 확보

스캐너 / 휴대폰 촬영 모두 대응

기울어짐, 명암 편차 허용

4. 시험지 1 레이아웃 구조 (고정)
| 영역 1 | 영역 2 | 영역 3 |
|--------|--------|--------|
| 로고   | 객관식 | 객관식 |
|        |        |        |
| 식별자 |        |        |

영역 1 (좌측 컬럼)

상단: 로고

사용자 업로드 이미지

비율 유지

흑백 출력 기준

하단: 식별자

휴대폰 번호 뒤 8자리

숫자 0~9 버블 방식

각 자리별 독립 마킹

영역 2, 영역 3 (중앙 / 우측 컬럼)

객관식 문항 배치

문항 번호: 좌측 정렬

선택지 버블: 번호 오른쪽 정렬

문항 수에 따라 자동 분배

5. 문항 수별 배치 규칙 (단일진실)

시험지 1의 문항 수는 정확히 아래 3가지만 허용한다.

객관식 30문항

영역 2 + 영역 3 사용

각 컬럼에 균등 분배

인식 안정성 최우선 기준

객관식 20문항

영역 2 + 영역 3 사용

문항 간 세로 간격 증가

동일 레이아웃, 밀도만 감소

객관식 10문항

영역 2 + 영역 3 사용

매우 넉넉한 간격

초등 / 저학년 / 테스트용 최적

※ 영역 1은 문항 수와 무관
※ 컬럼 수는 항상 3단 고정
※ 1단 레이아웃, 4단 레이아웃은 허용하지 않음

6. 시험지 2 — 주관식 전용 답안지 (참고 고정)

(시험지 1 확장 논의에서 제외되나, 자산 도메인 내 기준으로 유지)

주관식 5문항 고정

앞면: 가로 / 로고 + 식별자 + 대형 서술 영역

뒷면: 세로 / 5문항 서술 영역 나열

문항 번호 좌측 / 입력 영역 우측

7. API 설계 (고정)
시험지 1 – 객관식 OMR
POST /api/v1/assets/omr/objective/pdf/

요청 (multipart/form-data)

logo (optional image)

question_count (enum: 10 | 20 | 30)

응답

Content-Type: application/pdf

즉시 다운로드

서버 상태 저장 없음

8. 폴더 트리 (단일진실, 변경 금지)
apps/domains/assets/
├─ __init__.py
├─ apps.py
├─ urls.py
│
├─ omr/
│  ├─ __init__.py
│  ├─ constants.py
│  │
│  ├─ layouts/
│  │  ├─ __init__.py
│  │  ├─ objective_v1_10.py
│  │  ├─ objective_v1_20.py
│  │  └─ objective_v1_30.py
│  │
│  ├─ services/
│  │  ├─ __init__.py
│  │  └─ pdf_generator.py
│  │
│  └─ views/
│     ├─ __init__.py
│     └─ omr_pdf_views.py

9. constants.py의 위상 (가장 중요)

constants.py는 OMR 시스템 전체의 단일진실이다.

여기에 포함되는 것:

문항 수

페이지 크기

방향

컬럼 수

margin

버블 반지름

버블 간 거리

문항 간 최소 간격

constants.py의 값이 바뀌면 동시에 영향을 받는 것:

PDF 출력

인쇄 품질

OCR / OMR 인식률

향후 AI region_meta

10. 이 문서의 사용 규칙

이 문서 이후 설계 변경은 버전 업으로만 허용

v1 스펙은 절대 수정하지 않음

신규 요구는 v2 문서로 분리

최종 선언

이 문서에 따라 assets 도메인을 구현하면:

실사용 가능한 OMR 답안지 생성 가능

학원 / 학교 배포 가능

스캔 / 촬영 인식 안정

AI 파이프라인과 자연스럽게 연결 가능

구조 리팩토링 없이 확장 가능

이 문서는 구현자의 판단보다 우선한다.